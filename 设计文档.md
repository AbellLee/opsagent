# 模型设计

## Agent 表
URL 
API_KEY
Agent_Name
ID
描述
类型
状态
创建时间
删除时间
更新时间

# API设计
## Agent管理API
- 获取所有Agent:GET /api/agent
- 获取单个Agent:GET /api/agent/:id
- 创建Agent:POST /api/agent
- 更新Agent:PUT /api/agent/:id
- 删除Agent:DELETE /api/agent/:id

## 聊天API
- **发送对话消息**：POST /api/chat-messages | POST /chat/api/chat_message/{chat_id}
- 上传文件：POST /api/files/uppload
- 停止响应：POST /api/chat-messages/:task_id/stop
- 消息反馈（点赞）：POST /api/messages/:message_id/feedbacks
- 获取APP的消息点赞和反馈：GET /api/app/feedbacks
- 获取下一轮建议问题列表：GET /api/messages/{message_id}/suggested
- 获取会话历史消息：GET /api/messages
- 获取会话列表：GET /api/conversations
- 删除会话：DELETE /api/conversations/:conversation_id
- 会话重命名：PUT /api/conversations/:conversation_id/name
- 获取对话变量：GET /api/conversations/:conversation_id/variables
- 语音转文字：POST /api/speech-to-text
- 获取应用基本信息：GET /api/info | GET /chat/api/application/profile
- 获取应用参数：GET /api/parameters
- 获取应用Meta信息：GET /api/meta
- 获取应用 WebApp 设置：GET /api/meta
- 获取标注列表： GET /api/annotations
- 创建标注：POST /api/apps/annotations
- 更新标注：PUT /api/apps/annotations/{annotation_id}
- 删除标注：DELETE /api/apps/annotations/{annotation_id}
- 标注回复初始位置：POST /api/apps/annotation-reply/{action}
- 查询标注回复初始设置任务状态：GET /api/apps/annotations

# 模块
## LLM模型初始化模块
负责LLM模型的管理和初始化
- 模型初始化
- 多厂商模型调用

## tools模块
负责工具管理
- MCP工具
- 内置自定义工具

## graph模块
负责Agent图管理

## Agent模块
负责外部Agent管理

https://legacy-docs.dify.ai/zh-hans